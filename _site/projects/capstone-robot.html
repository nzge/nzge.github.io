<html > 
  <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nathan Ge - Capstone Robot</title>
  <meta name="description" content="Fully Autonomous delivery robot.">
  
  <!-- favicon -->
  <link rel="icon" type="image/png" href="/assets/media/nathan/favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/assets/media/nathan/favicon/favicon.svg" />
  <link rel="shortcut icon" href="/assets/media/nathan/favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/media/nathan/favicon/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/media/nathan/favicon/site.webmanifest" />
  
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="My Website" />
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Capstone Robot | My Website</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Capstone Robot" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Fully Autonomous delivery robot." />
<meta property="og:description" content="Fully Autonomous delivery robot." />
<link rel="canonical" href="http://localhost:4000/projects/capstone-robot.html" />
<meta property="og:url" content="http://localhost:4000/projects/capstone-robot.html" />
<meta property="og:site_name" content="My Website" />
<meta property="og:image" content="http://localhost:4000/capstone_robot.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-01-15T00:00:00-08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/capstone_robot.png" />
<meta property="twitter:title" content="Capstone Robot" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-01-15T00:00:00-08:00","datePublished":"2024-01-15T00:00:00-08:00","description":"Fully Autonomous delivery robot.","headline":"Capstone Robot","image":"http://localhost:4000/capstone_robot.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/projects/capstone-robot.html"},"url":"http://localhost:4000/projects/capstone-robot.html"}</script>
<!-- End Jekyll SEO tag -->


  <!-- google fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:100,100i,300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 

  <!-- stylesheet -->
  <link rel="stylesheet" type="text/css" href="/assets/css/animate.min.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>

  <button id="backToTop" title="Back to top">↑</button>

  <div class="btn" id="toggle-btn">
  <div id="hamburger">
    <span></span>
  </div>
</div>

<!-- <div class="overlay">
  <svg viewBox="0 0 1000 1000"> 
    <path d="M0 2S175 1 500 1s500 1 500 1V0H0Z"></path>
  </svg>
</div>  -->

<div class="menu">

</div>

  <body>  
    <script src="/assets/js/slideshow.js"></script>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    
     <!--------------- navbar starts here --------------->
<nav class="navbar"> 
  <div class="name animate__animated animate__fadeInUp" style="display: flex; align-items: center; gap: 10px;">
    <a href="/index.html" style="display: flex; align-items: center; text-decoration: none; color: inherit;">
      <span>nathan</span> 
      <img src="/assets/media/nathan/Nathan-red_block.svg" alt=" " style="width: 35px; height: auto; margin-left: 2px;">
    </a>
  </div>

  <ul class="nav-select">
    <li class="nav-item"><a href="/index.html">home.</a></li>
    <li class="nav-item"><a href="/pages/about.html">about me.</a></li>
    <li class="nav-item"><a href="/pages/work.html">work.</a></li>
    <li class="nav-item"><a href="/pages/blog.html">blog.</a></li>
    <li class="nav-item"><a href="/pages/contact.html">contact.</a></li>
  </ul>
</nav>


    <div class="gif-left"> 
  <img id="gif-left" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt=" ">
</div>

<div class="gif-right">
  <img id="gif-right" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt=" ">
</div>

<header>
  <div class="container">
    <div class="go-back" onclick="goBack()">Go Back</div>
    <h2>Capstone Robot</h2>
    
      <a href="https://github.com/nzge/ROKUSHO" target="_blank" rel="noopener noreferrer">Repo</a>
    
  </div>
</header>


<div class="container">
  
    <nav class="toc-box">
      <p>Table of Contents</p>
      <ul><li><a href="#hardware-design">Hardware Design</a><ul><li><a href="#schematic">Schematic</a></li><li><a href="#four-bar-linkage">Four-bar linkage</a></li></ul></li><li><a href="#code">Code</a><ul><li><a href="#state-machine">State machine</a></li><li><a href="#communication-protocol">Communication protocol</a></li></ul></li><li><a href="#documentation">Documentation</a></li><li><a href="#build-log">Build Log</a></li></ul>
    </nav>
  
  <div>
    <article class="markdown-body">
      <h2 id="hardware-design">Hardware Design</h2>

<div class="container" style="border: 1px solid white; color: white; padding: 1em; border-radius: 6px;">
<p style="text-align: center;">Model</p>
<model-viewer src="https://nzge.github.io/assets/media/capstone-robot_media/capstone.gltf" alt="GMPR Rocket" camera-controls="" touch-action="pan-y" camera-orbit="0deg 0deg auto" orientation="0deg 0deg 90deg" field-of-view="45deg" shadow-intensity="1" exposure="1.0" environment-image="legacy" style="width: 800px; height: 500px; display: block; margin: 0 auto 0.5em auto; background-color: #1a1a1a; border-radius: 4px;">
</model-viewer>
<br />
</div>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Servos</td>
      <td> </td>
    </tr>
    <tr>
      <td>Servos</td>
      <td> </td>
    </tr>
    <tr>
      <td>Servos</td>
      <td> </td>
    </tr>
    <tr>
      <td>Servos</td>
      <td> </td>
    </tr>
    <tr>
      <td>Servos</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="schematic">Schematic</h3>
<p><img src="/assets/media/capstone-robot_media/IMG_1179.JPG" alt="Alt text" style="width:600px;display: block; margin: auto;" /></p>

<h3 id="four-bar-linkage">Four-bar linkage</h3>
<p><img src="/assets/media/capstone-robot_media/four-bar.png" alt="Alt text" style="width:600px;display: block; margin: auto;" /></p>

<h2 id="code">Code</h2>

<h3 id="state-machine">State machine</h3>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;Arduino.h&gt;
</span>
<span class="cp">#include &lt;motor.h&gt;
#include &lt;constants.h&gt;
#include &lt;fns.h&gt;
#include &lt;rpi.h&gt;
#include &lt;state.h&gt;
</span>
<span class="cp">#include &lt;QTRSensors.h&gt;
#include &lt;controller.h&gt;
#include &lt;claw.h&gt;
</span>

<span class="k">enum</span> <span class="n">JunctionType</span> <span class="p">{</span>
  <span class="n">NONE</span><span class="p">,</span>
  <span class="n">LEFT</span><span class="p">,</span>
  <span class="n">RIGHT</span><span class="p">,</span>
  <span class="n">T</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">State</span> <span class="n">state</span><span class="p">;</span>
<span class="n">RPI</span> <span class="nf">rpi</span><span class="p">(</span><span class="mi">19200</span><span class="p">);</span>

<span class="n">Claw</span> <span class="nf">grabber</span><span class="p">(</span><span class="n">four_bar_pwm_pin</span><span class="p">,</span> <span class="n">claw_pwm_pin</span><span class="p">,</span> <span class="n">four_bar_potentiometer_pin</span><span class="p">,</span> <span class="n">claw_potentiometer_pin</span><span class="p">);</span>
<span class="n">QTRSensors</span> <span class="n">lf</span><span class="p">;</span>
<span class="n">Controller</span> <span class="nf">base_controller</span><span class="p">(</span><span class="n">Kp</span><span class="p">,</span> <span class="n">Kd</span><span class="p">);</span>
<span class="n">Motor</span> <span class="n">motors</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="n">Motor</span><span class="p">(</span><span class="n">m_pin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">m_pin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> 
<span class="n">Motor</span><span class="p">(</span><span class="n">m_pin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">m_pin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> 
<span class="n">Motor</span><span class="p">(</span><span class="n">m_pin</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">m_pin</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> 
<span class="n">Motor</span><span class="p">(</span><span class="n">m_pin</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">m_pin</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">])};</span>

<span class="kt">int</span> <span class="n">dropoff_location</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">dropoff_target</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">return_junction</span><span class="p">(</span><span class="kt">bool</span> <span class="n">left_readings</span><span class="p">[</span><span class="n">readings</span><span class="p">],</span> <span class="kt">bool</span> <span class="n">right_readings</span><span class="p">[</span><span class="n">readings</span><span class="p">])</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="n">right_is_black</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">left_is_black</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

  <span class="kt">int</span> <span class="n">right_tally</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">left_tally</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">readings</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">right_readings</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="n">right_tally</span><span class="o">++</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">left_readings</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="n">left_tally</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">right_tally</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">left_tally</span> <span class="o">&gt;=</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">T</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">right_tally</span> <span class="o">&gt;=</span> <span class="n">readings</span><span class="p">)</span> <span class="k">return</span> <span class="n">RIGHT</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">left_tally</span> <span class="o">&gt;=</span> <span class="n">readings</span><span class="p">)</span> <span class="k">return</span> <span class="n">LEFT</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">return</span> <span class="n">NONE</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">rpi</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">rpi</span><span class="p">.</span><span class="n">wait_rpi_ready</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Timeout, hold forever</span>
    <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span><span class="n">delay</span><span class="p">(</span><span class="mi">10000000</span><span class="p">);}</span>
  <span class="p">}</span>
  <span class="n">lf</span><span class="p">.</span><span class="n">setTypeAnalog</span><span class="p">();</span>
  <span class="n">lf</span><span class="p">.</span><span class="n">setSensorPins</span><span class="p">(</span><span class="n">line_follower_pins</span><span class="p">,</span> <span class="n">num_line_sensors</span><span class="p">);</span>

  <span class="n">pinMode</span><span class="p">(</span><span class="n">limit_switch_left</span><span class="p">,</span> <span class="n">INPUT_PULLUP</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">limit_switch_right</span><span class="p">,</span> <span class="n">INPUT_PULLUP</span><span class="p">);</span>

  <span class="n">grabber</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>

  

  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">calibration_LED_pin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">uint8_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">calibration_iterations</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">lf</span><span class="p">.</span><span class="n">calibrate</span><span class="p">();</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">calibration_LED_pin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mf">10e3</span><span class="p">);</span>
  <span class="n">rpi</span><span class="p">.</span><span class="n">sendMessage</span><span class="p">(</span><span class="s">"ARDUINO_READY"</span><span class="p">);</span>
  <span class="n">rpi</span><span class="p">.</span><span class="n">sendMessage</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">log_header</span><span class="p">());</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">switchPressed_L</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">switchPressed_R</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">switchPressed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>


<span class="kt">int</span> <span class="n">reflectance_counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">bool</span> <span class="n">left_reflectance_readings</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="nb">false</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">false</span><span class="p">};</span>
<span class="kt">bool</span> <span class="n">right_reflectance_readings</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="nb">false</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">false</span><span class="p">};</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">state</span><span class="p">.</span><span class="n">time_ms</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>

  <span class="n">state</span><span class="p">.</span><span class="n">left_limit_switch</span> <span class="o">=</span> <span class="n">digitalRead</span><span class="p">(</span><span class="n">limit_switch_left</span><span class="p">);</span>   <span class="c1">// 1 if not pressed 0 if pressed</span>
  <span class="n">state</span><span class="p">.</span><span class="n">right_limit_switch</span> <span class="o">=</span> <span class="n">digitalRead</span><span class="p">(</span><span class="n">limit_switch_right</span><span class="p">);</span> <span class="c1">// 1 if not pressed 0 if pressed</span>

  <span class="kt">uint16_t</span> <span class="n">sensors</span><span class="p">[</span><span class="n">num_line_sensors</span><span class="p">];</span>
  <span class="n">state</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">lf</span><span class="p">.</span><span class="n">readLineBlack</span><span class="p">(</span><span class="n">sensors</span><span class="p">);</span>

  <span class="n">memcpy</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">ssr</span><span class="p">,</span> <span class="n">sensors</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">sensors</span><span class="p">));</span>
  
  <span class="n">state</span><span class="p">.</span><span class="n">left_low_reflectance</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
  <span class="n">state</span><span class="p">.</span><span class="n">right_low_reflectance</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

  <span class="kt">int</span> <span class="n">right_turn_cutoff_index</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">left_turn_cutoff_index</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">num_line_sensors</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">right_turn_cutoff_index</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">sensors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">700</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_low_reflectance</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">left_turn_cutoff_index</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">sensors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">700</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">state</span><span class="p">.</span><span class="n">right_low_reflectance</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">left_reflectance_readings</span><span class="p">[</span><span class="n">reflectance_counter</span><span class="p">]</span> <span class="o">=</span> <span class="n">state</span><span class="p">.</span><span class="n">left_low_reflectance</span><span class="p">;</span>
<span class="n">right_reflectance_readings</span><span class="p">[</span><span class="n">reflectance_counter</span><span class="p">]</span> <span class="o">=</span> <span class="n">state</span><span class="p">.</span><span class="n">right_low_reflectance</span><span class="p">;</span>
<span class="n">reflectance_counter</span><span class="o">++</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">reflectance_counter</span> <span class="o">&gt;=</span> <span class="n">readings</span><span class="p">)</span> <span class="n">reflectance_counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>


  <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">slow_cycles</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">state</span><span class="p">.</span><span class="n">slow_cycles</span><span class="o">--</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">else</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">current_function</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="mi">0</span><span class="p">:</span> <span class="c1">// Normal Line Following</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">return_junction</span><span class="p">(</span><span class="n">left_reflectance_readings</span><span class="p">,</span> <span class="n">right_reflectance_readings</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">case</span> <span class="n">LEFT</span><span class="p">:</span> <span class="c1">// 90 degree left turn</span>
            <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">state</span><span class="p">.</span><span class="n">counted_left_junctions</span><span class="o">++</span><span class="p">;</span>
            <span class="n">state</span><span class="p">.</span><span class="n">slow_cycles</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
          <span class="k">case</span> <span class="n">RIGHT</span><span class="p">:</span> <span class="c1">// 90 degree right turn for manuvering</span>
            <span class="n">state</span><span class="p">.</span><span class="n">slow_cycles</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="n">state</span><span class="p">.</span><span class="n">counted_right_junctions</span><span class="o">++</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">counted_right_junctions</span> <span class="o">==</span> <span class="n">dropoff_location</span><span class="p">){</span>
              <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">break</span><span class="p">;</span>
          <span class="k">case</span> <span class="n">T</span><span class="p">:</span> <span class="c1">// T junction</span>
            <span class="c1">// state.current_function = 3;</span>
            <span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
            <span class="n">motors</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
            <span class="n">motors</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
            <span class="n">motors</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
            <span class="n">delay</span><span class="p">(</span><span class="mf">0.09e3</span><span class="p">);</span>
            <span class="n">state</span><span class="p">.</span><span class="n">counted_T_junctions</span><span class="o">++</span><span class="p">;</span>
            <span class="n">state</span><span class="p">.</span><span class="n">slow_cycles</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>

            <span class="c1">//@ all T junctions take a right</span>
            <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
          <span class="k">case</span> <span class="n">NONE</span><span class="p">:</span>
            <span class="k">break</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="mi">1</span><span class="p">:</span> <span class="c1">// 90 degree left turn for manuv</span>
        <span class="p">{</span>
        <span class="kt">int</span> <span class="n">left_solid_sensor_readings</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_line_sensors</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">sensors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">800</span><span class="p">)</span> <span class="n">left_solid_sensor_readings</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">left_solid_sensor_readings</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="k">case</span> <span class="mi">2</span><span class="p">:</span> <span class="c1">// 90 degree right turn for objective</span>
        <span class="p">{</span>
        <span class="kt">int</span> <span class="n">right_solid_sensor_readings</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_line_sensors</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">sensors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">800</span><span class="p">)</span> <span class="n">right_solid_sensor_readings</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">right_solid_sensor_readings</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">22</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="mi">22</span><span class="p">:</span> <span class="c1">// Line follow until wall then grab or release</span>
      <span class="k">case</span> <span class="mi">221</span><span class="p">:</span>
      <span class="k">case</span> <span class="mi">220</span><span class="p">:</span>
      <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">left_limit_switch</span> <span class="o">||</span> <span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">right_limit_switch</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
          
          <span class="k">switch</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
              <span class="n">grabber</span><span class="p">.</span><span class="n">grabDisc</span><span class="p">(</span><span class="n">disc_positions</span><span class="p">[</span><span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="p">]);</span>
              <span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="o">++</span><span class="p">;</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
              <span class="n">grabber</span><span class="p">.</span><span class="n">grabDisc</span><span class="p">(</span><span class="n">disc_positions</span><span class="p">[</span><span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="p">]);</span>
              <span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="o">++</span><span class="p">;</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
              <span class="n">grabber</span><span class="p">.</span><span class="n">grabDisc</span><span class="p">(</span><span class="n">disc_positions</span><span class="p">[</span><span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="p">]);</span>
              <span class="n">state</span><span class="p">.</span><span class="n">disk_num</span><span class="o">++</span><span class="p">;</span>
              <span class="n">state</span><span class="p">.</span><span class="n">straight_cycles</span> <span class="o">=</span> <span class="mf">8e3</span> <span class="o">/</span> <span class="mi">50</span><span class="p">;</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
              <span class="n">grabber</span><span class="p">.</span><span class="n">releaseDisc</span><span class="p">();</span>
          <span class="p">}</span>

          <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">222</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">left_limit_switch</span><span class="p">){</span>
          <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">220</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">right_limit_switch</span><span class="p">)</span>
        <span class="p">{</span>
          <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">221</span><span class="p">;</span>
        <span class="p">}</span>
          
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">case</span> <span class="mi">222</span><span class="p">:</span> <span class="c1">// Reversing from obj</span>
      <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">left_low_reflectance</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">.</span><span class="n">right_low_reflectance</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
          <span class="n">motors</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
          <span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
          <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
          <span class="n">state</span><span class="p">.</span><span class="n">slow_cycles</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">case</span> <span class="mi">3</span><span class="p">:</span> <span class="c1">// placing the object</span>
        <span class="k">break</span><span class="p">;</span> <span class="c1">//just stay here for now</span>
      <span class="nl">default:</span>
        <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="c1">// delay(1e6);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">switch</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">current_function</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="p">:</span> <span class="c1">// Normal Line Following</span>
    <span class="k">case</span> <span class="mi">22</span><span class="p">:</span>
      <span class="n">state</span><span class="p">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">state</span><span class="p">.</span><span class="n">position</span> <span class="o">-</span> <span class="n">line_center_position</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">controller_output</span> <span class="o">=</span> <span class="n">base_controller</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">error</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">straight_cycles</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">state</span><span class="p">.</span><span class="n">straight_cycles</span><span class="o">--</span><span class="p">;</span>
        <span class="n">state</span><span class="p">.</span><span class="n">base_speed</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="k">else</span> <span class="n">state</span><span class="p">.</span><span class="n">base_speed</span> <span class="o">=</span> <span class="n">base_speed</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">base_speed</span> <span class="o">+</span> <span class="n">state</span><span class="p">.</span><span class="n">controller_output</span><span class="p">,</span> <span class="o">-</span><span class="n">clamp_max_speed</span><span class="p">,</span> <span class="n">clamp_max_speed</span><span class="p">);</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">base_speed</span> <span class="o">-</span> <span class="n">state</span><span class="p">.</span><span class="n">controller_output</span><span class="p">,</span> <span class="o">-</span><span class="n">clamp_max_speed</span><span class="p">,</span> <span class="n">clamp_max_speed</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">left_limit_switch</span> <span class="o">||</span> <span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">right_limit_switch</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">220</span><span class="p">:</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">221</span><span class="p">:</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">222</span><span class="p">:</span> <span class="c1">// Reverse Line Follow</span>
      <span class="n">state</span><span class="p">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">state</span><span class="p">.</span><span class="n">position</span> <span class="o">-</span> <span class="n">line_center_position</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">controller_output</span> <span class="o">=</span> <span class="n">base_controller</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">error</span><span class="p">);</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span> <span class="c1">// 90 degree left turn</span>

      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="n">turn_speed</span><span class="p">,</span> <span class="o">-</span><span class="n">clamp_max_speed</span><span class="p">,</span> <span class="n">clamp_max_speed</span><span class="p">);</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="o">-</span><span class="n">turn_speed</span><span class="p">,</span> <span class="o">-</span><span class="n">clamp_max_speed</span><span class="p">,</span> <span class="n">clamp_max_speed</span><span class="p">);</span>

      <span class="c1">// Code for 90 degree left turn mode</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span> <span class="c1">// 90 degree right turn</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="o">-</span><span class="n">turn_speed</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="n">turn_speed</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="p">:</span> <span class="c1">//placing the object</span>
      <span class="n">state</span><span class="p">.</span><span class="n">left_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">state</span><span class="p">.</span><span class="n">right_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="nl">default:</span>
      <span class="n">state</span><span class="p">.</span><span class="n">current_function</span> <span class="o">=</span> <span class="o">-</span><span class="mi">11</span><span class="p">;</span>
      <span class="c1">// delay(1e6);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">left_speed</span><span class="p">);</span>
  <span class="n">motors</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">left_speed</span><span class="p">);</span>
  <span class="n">motors</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">right_speed</span><span class="p">);</span>
  <span class="n">motors</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">set_speed</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">right_speed</span><span class="p">);</span>

  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">log</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>State:</strong>
0: Line Following Forward<br />
1: Left Turn<br />
2: Right Turn<br />
3: Line Following Backward</p>

<p><strong>Picking up the Disk</strong></p>
<ul>
  <li>On every T Junction take a right and enter the following transition sequence
    <ul>
      <li>Take a right</li>
      <li>Line follow forward until limits switches are activated</li>
      <li>Grab Disk</li>
      <li>Drive Backwards until T</li>
      <li>Take a Left</li>
      <li>Line Follow</li>
    </ul>
  </li>
</ul>

<p><strong>Placing Disk</strong></p>
<ul>
  <li>Count # Right turns to determine when to take Right
    <ul>
      <li>Take a right</li>
      <li>Line follow forward until limit switches</li>
      <li>Release Disks</li>
      <li>Drive Backwards until T</li>
      <li>Take a Left</li>
      <li>Line Follow</li>
    </ul>
  </li>
</ul>

<h3 id="communication-protocol">Communication protocol</h3>
<p><img src="/assets/media/capstone-robot_media/remote-dev.png" alt="Alt text" style="width:1000px;display: block; margin: auto;" /></p>

<h2 id="documentation">Documentation</h2>
<embed src="/assets/media/capstone-robot_media/Team05_Final-Design-Report_MAE162E-2024.pdf" width="950px" height="1200px" />

<h2 id="build-log">Build Log</h2>

<blockquote>
  <p>5-29-24:</p>

  <p><img src="/assets/media/capstone-robot_media/IMG_1179.JPG" alt="Alt text" style="width:600px;display: block; margin: auto;" /></p>
</blockquote>

<blockquote>
  <p>5-11-24:</p>

  <p><img src="/assets/media/capstone-robot_media/prints.JPG" alt="Alt text" style="width:600px;display: block; margin: auto;" /></p>
</blockquote>

<blockquote>
  <p>2-21-24:</p>

  <p><img src="/assets/media/capstone-robot_media/concept.JPG" alt="Alt text" style="width:600px;display: block; margin: auto;" /></p>
</blockquote>

    </article>
  </div>
</div>

    <footer class="container wow animate__animated animate__fadeInUp" data-wow-duration="2s" data-wow-delay="0.5s"">
  <div class="footer-line"></div>
  <div class="footer-content">
    <img src="/assets/media/!misc/random/wwwbutton.gif" alt="www">
    <p>&copy; 2025 Nathan Ge 葛中骐</p>
    <div class="social-icons">
      <a href="https://github.com/nzge" target="_blank" data-no-icon><i class="fab fa-github"></i></a>
      <a href="https://x.com/ge_nathan73556" target="_blank" data-no-icon><i class="fab fa-twitter"></i></a>
      <a href="https://linkedin.com/in/nzge" target="_blank" data-no-icon><i class="fab fa-linkedin"></i></a>
      <a href="https://instagram.com/naysun_g" target="_blank" data-no-icon><i class="fab fa-instagram"></i></a>
    </div>

  </div>

  <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
  <script>
    kofiWidgetOverlay.draw('nathange', {
      type: 'floating-chat',
      'floating-chat.donateButton.text': 'Support me',
      'floating-chat.donateButton.background-color': 'rgba(24, 22, 22, 0.3)', // opacity controlled here
      'floating-chat.donateButton.text-color': '#fff'
    });
  </script>

</footer>
    <style>
  .videoWrapper {
    position: relative;
    padding-bottom: 56.333%;
    height: 0;
      background: black;
  }
  .videoWrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
      border: 0;
  }    
</style>
  

        <!-- Include js -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.1/gsap.min.js"  defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/CSSRulePlugin.min.js"  defer></script>
    <script src="//instant.page/5.2.0" type="module" integrity="sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84q0uHVRRxEtvFPiQYbXWUorga2aqZJ0z"></script>
    <script type="text/javascript" async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      };
    </script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/links.js"></script>
    <script src="/assets/js/gifs.js"></script>
    <script src="/assets/js/menu.js"></script>
    <script src="/assets/js/open-embed.js"></script>
    <script src="/assets/js/wow.min.js"></script>



  </body>

</html>

